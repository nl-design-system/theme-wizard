---
import { withRelatedProject } from '@vercel/related-projects';
import BaseLayout from '../layouts/BaseLayout.astro';
import { TEMPLATES_JSON } from '@nl-design-system-community/theme-wizard-templates';

const scraperUrl = withRelatedProject({
  projectName: 'theme-wizard-server',
  // Fallback API host
  defaultHost: process.env.API_HOST || '',
});
---

<BaseLayout title="Theme Wizard" description="Preview and analyze website themes" scraperUrl={scraperUrl}>
  <theme-wizard-app templates={TEMPLATES_JSON}>
    <wizard-layout>
      <div slot="sidebar">
        <theme-wizard-tokens-form></theme-wizard-tokens-form>
      </div>
      <div slot="main">
        <wizard-index-page></wizard-index-page>
      </div>
     </wizard-layout>
  </theme-wizard-app>
</BaseLayout>
