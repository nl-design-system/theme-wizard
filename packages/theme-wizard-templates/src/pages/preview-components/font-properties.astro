---
import './styles.css';
import '@nl-design-system-community/ma-design-tokens/dist/theme.css';
import tokens from '@nl-design-system-community/ma-design-tokens/dist/tokens.json';
import { groupTokenReferencesByScale } from '../../utils/token-groups';
import CollageLayout from '../../layouts/CollageLayout.astro';

export const detail = {
  name: 'Font properties',
  module: 'Display of font properties',
  value: 'font-properties',
};

const textGroup = groupTokenReferencesByScale(tokens.basis?.text);

function formatCSSCustomProperty(prop: string) {
  return `--${prop.replaceAll('.', '-')}`;
}
---

<CollageLayout>
  <div class="template-font-family-grid">
    <div class="template-font-family__container" title="${this.reference}">
      {
        Object.entries(textGroup).map(([key, values]) => {
          if (!Array.isArray(values)) return null;
          return values.map((value: string) => {
            const cssValue = `var(${formatCSSCustomProperty(value)})`;
            const style = `${key}: ${cssValue}`;
            const textContent = `${key}: ${value}`;
            return <p style={style}>{textContent}</p>;
          });
        })
      }
    </div>
  </div>
</CollageLayout>
